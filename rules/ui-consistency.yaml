# SaasCode Kit â€” UI Consistency Rules
# For React/Next.js with Tailwind CSS

rules:
  # WARNING: Raw HTML button instead of Button component
  - id: raw-html-button
    message: |
      Raw <button> element found. Use the Button component from the UI library
      for consistent styling, accessibility, and behavior.
    severity: WARNING
    languages: [typescript]
    patterns:
      - pattern: <button $ATTRS>$CHILDREN</button>
      - pattern-not-inside: |
          // components/ui/button.tsx
          ...

  # WARNING: Raw HTML input instead of Input component
  - id: raw-html-input
    message: |
      Raw <input> element found. Use the Input component from the UI library
      for consistent styling and validation handling.
    severity: WARNING
    languages: [typescript]
    patterns:
      - pattern: <input $ATTRS />
      - pattern-not-inside: |
          // components/ui/input.tsx
          ...

  # WARNING: Raw HTML select
  - id: raw-html-select
    message: |
      Raw <select> element found. Use the Select component from the UI library.
    severity: WARNING
    languages: [typescript]
    pattern: <select $ATTRS>$CHILDREN</select>

  # ERROR: Wrong color system in tenant UI (configurable per project)
  - id: wrong-tenant-colors
    message: |
      Non-standard color class found in tenant UI area.
      Tenant UI should use the project's designated tenant color system.
      Check manifest.yaml patterns.colors for correct values.
    severity: WARNING
    languages: [typescript]
    patterns:
      - pattern-regex: "(?:indigo|violet)-(?:50|100|200|300|400|500|600|700|800|900)"
      # Customize this regex based on manifest.yaml patterns.colors.forbidden_in_tenant

  # WARNING: Missing loading state
  - id: useeffect-without-loading
    message: |
      Data fetching in useEffect without a loading state variable.
      Always show loading state during async operations.
    severity: WARNING
    languages: [typescript]
    patterns:
      - pattern: |
          useEffect(() => {
            ...fetch...
          }, [...])
      - pattern-not-inside: |
          const [$LOADING, $SET_LOADING] = useState(...);
          ...

  # WARNING: Async operation without try-catch
  - id: async-without-error-handling
    message: |
      Async operation without try-catch error handling.
      Wrap async calls in try-catch and show error state to user.
    severity: WARNING
    languages: [typescript]
    patterns:
      - pattern: |
          const $DATA = await $API(...);
      - pattern-not-inside: |
          try { ... } catch ($E) { ... }
